# AQEI-Bridge manuscript (draft)

This is a living draft aligned with the repo’s hybrid workflow:
- Lean: formal, typechecked definitions and statements (eventual proofs)
- Mathematica: heuristic search / counterexample hunting in a toy model
- Python: orchestration + translation into Lean-checkable “certificates”

This draft is intentionally closer in *structure* to the `energy-tensor-cone/papers/` organization
(overview + definitions + main conjecture + formalization plan), but is kept as Markdown until the
mathematical content stabilizes.

## 1. Introduction

### 1.1. Problem statement
We want evidence and eventually a proof (or disproof/refinement) of:

> Metric perturbations generated by AQEI-admissible stress–energy tensors produce a path-connected family
> of causal futures (no change in global causal homotopy class) in small neighborhoods.

See `docs/conjecture.md` for the current mathematical phrasing and caveats.

We will use the standard causal-future notation:

$$
J^+(p) = \{ q \mid \exists\,\gamma : p \to q,\; g(\dot\gamma, \dot\gamma) \le 0 \}.
$$

### 1.2. What this repository contributes
- A repeatable candidate generation loop (toy 1+1D) producing structured artifacts.
- A Lean “interface layer” that keeps speculative/heuristic steps explicitly abstract.

## 2. Definitions and interface layer

### 2.1. Stress–energy and admissibility
- Finite-dimensional toy model: coefficient vectors.
- Tensor-shaped placeholder: symmetric matrices (to be refined).
- AQEI admissibility: currently encoded as a finite list of linear inequalities (polyhedron).

### 2.2. Causality models
- Discrete reachability toy model: directed edge relation, transitive closure, and `J⁺(p)`.
- Order-theoretic causal posets: a preorder `p ≤ q` as an abstract reachability relation.
- Future work: Lorentzian manifold causality and continuity of `J⁺` under small perturbations.

#### 2.2.1. Alexandrov-style topology (order interface)
We add a minimal bridge from causality to topology:

- Start with a causal preorder `≤` on events.
- Define the causal future as the upper set $J^+(p) := \{ q \mid p \le q \}$.
- Put an Alexandrov-style topology on events where *open sets are upper sets*.

Lean implementation note:
- Given a `Spacetime` and a metric `g`, we treat the abstract predicate `CausalCurve M g p q` as a
  binary relation on events.
- We do **not** assume it is a preorder automatically; instead we require explicit axioms
  (reflexivity + transitivity) and then package it into a `CausalPoset`.
- With those axioms, the induced Alexandrov topology makes each future set $J^+(p)$ open.

This is a deliberately light-weight formal substrate for later “topological obstruction” invariants.

## 3. Hybrid workflow

### 3.1. Stage III (Mathematica)
- Choose an ansatz for the source.
- Solve a linearized toy Green’s-function system.
- Maximize a proxy observable subject to synthetic (placeholder) constraints.

Artifacts:
- `mathematica/results/summary.json`
- `mathematica/results/top_candidates.json`

### 3.2. Stage IV (Python)
- Parse JSON results, rationalize floats, and emit a Lean file containing structured candidate data.
- Persist run records in `runs/<timestamp>/run.json`.

### 3.3. Stage I/II (Lean)
- Keep a clean separation:
  - What’s formalizable now (finite-dimensional convexity, discrete reachability).
  - What remains heuristic (PDE solution operator, link from proxy observable to causal future changes).

## 4. Core conjectures

### 4.1. AQEI-bridge (local stability)
- Parameter-space formulation: path-connectedness of a “good” neighborhood inside the AQEI-admissible region.
- Model-space formulation: stability of `J⁺` under small perturbations (future work).

### 4.2. Global causality as a topological obstruction (bridge goal)
This project’s longer-term direction is to connect causality stability to *topological invariants* of a causal structure.
Candidate ingredients:
- causal posets / causal sets (order-theoretic structure)
- Alexandrov topology and order-interval bases
- invariants stable under small local perturbations

This section is a placeholder for a more precise statement once the Lean model of causality is upgraded.

#### 4.2.1. Homology proxy (discrete, chain-level)
To start unblocking “invariants beyond cycle detection,” we include a minimal chain-level proxy for 1-dimensional homology on a directed graph:
- 0-chains are formal linear combinations of vertices.
- 1-chains are formal linear combinations of directed edges.
- The incidence boundary is `∂(p→q) = q - p`.

We define the 1-cycle space $Z_1 := \ker(\partial_1)$ and prove it is functorial for edge-homomorphisms.

Lean pointers:
- `lean/src/AqeiBridge/DiscreteHomologyProxy.lean` defines `boundary1` and `Z1`.
- `lean/src/AqeiBridge/GlobalConjectures.lean` records a compilation-safe “global invariance” statement skeleton (to be refined).

### 4.3. Connectedness proxies (computational evidence)

The conjecture is stated in terms of *path-connectedness* of a family of causal futures.
Our current toy pipeline cannot compute $J^+(p)$ in a realistic spacetime; instead, it computes
a proxy observable along a small set of rays and records a heuristic notion of “overlap” via
active-constraint sets.

For each run we obtain candidates indexed by rays, each with a finite set of active constraints.
We form a per-ray constraint set $C_i$ by unioning all active constraints seen for ray $i$, then
compute pairwise Jaccard overlaps
$$
\mathrm{Jac}(i,j) := \frac{|C_i \cap C_j|}{|C_i \cup C_j|}.
$$

From this we define a simple connectedness proxy at threshold $\theta$:
$$
\mathrm{Conn}_\theta := \frac{1}{\binom{R}{2}}\sum_{1\le i<j\le R} \mathbf{1}[\mathrm{Jac}(i,j) \ge \theta].
$$

This is emitted by `python/multi_ray_analysis.py` as:
- mean pairwise Jaccard,
- fraction of ray-pairs above `theta`,
- and (optionally) a crude “connectivity threshold” derived from a threshold sweep.

Interpretation caveat:
- This proxy is **not** a topological invariant of $\mathcal{J}_p$.
- It is used only to guide refinement of constraints/observables and to spot regimes where the
  toy model’s behavior changes sharply.

Reproducibility:
- Runs persist records under `runs/<timestamp>/run.json`, and key artifacts are copied into
  `runs/<timestamp>/artifacts/`.

## 5. Roadmap
- Tighten Lean statements for the discrete model; prove at least one nontrivial stability theorem there.
- Replace synthetic constraints with manuscript-derived sampling functionals.
- Upgrade the causal observable beyond straight-ray integrals.

### Phase 4: empirical bounds via sweeps (diagnostics)
We treat “large-scale searches” as reproducible diagnostics:
- run bounded parameter sweeps (`python/sweep_parameters.py`),
- aggregate maxima (`python/sweep_analysis.py`),
- inspect active-set overlap / connectedness proxies (`python/multi_ray_analysis.py`).

Workflow details live in `docs/phase4_searches.md`.

Additional diagnostics (toy):
- directed-cycle detection as a CTC proxy (`python/ctc_scan.py` on graph JSON inputs)

Homology-adjacent stability diagnostics (toy):
- `python/poset_homology_proxy.py perturb-fft`: edge-dropping low-pass perturbation with `z1Dim` stability stats.
- `python/poset_homology_proxy.py sweep-minkowski-perturb` and `scan-minkowski-perturb`: “cone widening” perturbations on a 1+1 grid poset, including scan + CSV export for mapping stability regions.

These are intended as evidence-building tools only; they do not establish Lorentzian $J^+$ continuity.
They help decide which perturbation families are worth elevating into Lean interface statements next.

Pivot note:
- If expanded searches fail to produce robust counterexamples (across seeds, grids, and ansatz families),
  treat that as evidence about the *toy proxy* only.
- The next step would be to strengthen the model ingredients (constraints + observable) rather than to
  over-interpret null results as physical causality stability.
